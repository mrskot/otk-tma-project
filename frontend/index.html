<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OTK TMA</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body { font-family: Arial, sans-serif; margin: 0; padding: 20px; background-color: #f8f9fa; }
        .panel-section { background-color: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); margin-bottom: 20px; }
        .form-group { margin-bottom: 15px; }
        .form-group label { display: block; margin-bottom: 5px; font-weight: bold; }
        .form-group input, .form-group select, .form-group textarea { width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 4px; box-sizing: border-box; }
        .btn { padding: 10px 15px; border: none; border-radius: 4px; cursor: pointer; margin-right: 10px; }
        .btn-primary { background-color: #007bff; color: white; }
        .btn-success { background-color: #28a745; color: white; }
        .btn-secondary { background-color: #6c757d; color: white; }
        .alert { padding: 10px; margin-bottom: 15px; border-radius: 4px; }
        .alert-info { background-color: #d1ecf1; color: #0c5460; border: 1px solid #bee5eb; }
        .alert-success { background-color: #d4edda; color: #155724; border: 1px solid #c3e6cb; }
        .section-choice-buttons button { margin-bottom: 10px; width: 100%; }
        textarea { resize: vertical; }
    </style>
</head>
<body>

    <div id="pin-auth-panel" class="panel-section" style="display:none;">
        <h2>üîê –í—Ö–æ–¥ –ø–æ PIN-–∫–æ–¥—É</h2>
        <p>–í–∞—à–∞ —É—á–µ—Ç–Ω–∞—è –∑–∞–ø–∏—Å—å –Ω–µ –≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–∞. –í–≤–µ–¥–∏—Ç–µ PIN-–∫–æ–¥, –≤—ã–¥–∞–Ω–Ω—ã–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É.</p>
        
        <form id="pin-form">
            <div class="form-group">
                <label for="pin-input">PIN-–∫–æ–¥:</label>
                <input type="text" id="pin-input" placeholder="–í–≤–µ–¥–∏—Ç–µ PIN" required pattern="\d{4,8}">
            </div>
            <button type="submit" class="btn btn-primary">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –∏ –í–æ–π—Ç–∏</button>
        </form>
        <div id="pin-message" style="color:red; margin-top: 10px;"></div>
    </div>

    <div id="main-panel" class="panel-section" style="display:none;">
        <h2>–ì–ª–∞–≤–Ω–∞—è –ü–∞–Ω–µ–ª—å</h2>
        <p>ID TG: <span id="tg-id-display">–ó–∞–≥—Ä—É–∑–∫–∞...</span></p>
        <p>–†–æ–ª—å: <span id="role-display">–ó–∞–≥—Ä—É–∑–∫–∞...</span></p>

        <button class="btn btn-primary" onclick="showPanel('create-request-section')">+ –ù–æ–≤–∞—è –∑–∞—è–≤–∫–∞</button>
        <button class="btn btn-secondary">–ú–æ–∏ –ó–∞—è–≤–∫–∏ (–°–ø–∏—Å–æ–∫)</button>
        </div>

    <div id="create-request-section" class="panel-section" style="display:none;">
        <h2>–°–æ–∑–¥–∞–Ω–∏–µ –ó–∞—è–≤–∫–∏ (–ú–∞—Å—Ç–µ—Ä)</h2>

        <div id="section-choice-area">
            </div>

        <form id="request-form">
            
            <select id="section-select" style="display:none;">
                </select>

            <div class="form-group">
                <label>–ñ–µ–ª–∞–µ–º—ã–π –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –ü—Ä–∏—ë–º–∫–∏:</label>
                <select id="desired_priority">
                    <option value="working_order">–í —Ä–∞–±–æ—á–µ–º –ø–æ—Ä—è–¥–∫–µ (–î–µ—Ñ–æ–ª—Ç)</option>
                    <option value="as_soon_as_possible">–ö–∞–∫ –º–æ–∂–Ω–æ —Å–∫–æ—Ä–µ–µ</option>
                    <option value="today">–°–µ–≥–æ–¥–Ω—è</option>
                    <option value="tomorrow">–ó–∞–≤—Ç—Ä–∞</option>
                    <option value="this_week">–ù–∞ —ç—Ç–æ–π –Ω–µ–¥–µ–ª–µ</option>
                    <option value="before_lunch">–î–æ –æ–±–µ–¥–∞</option>
                    <option value="after_lunch">–ü–æ—Å–ª–µ –æ–±–µ–¥–∞</option>
                    <option value="urgent">!!! –≠–ö–°–¢–†–ï–ù–ù–û !!!</option>
                </select>
            </div>

            <div class="form-group">
                <label>–¢–∏–ø –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ç–æ—Ä–∞:</label>
                <input type="text" id="transformer_type" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –¢–ú–ì 1000/10/0,4">
            </div>

            <div class="form-group">
                <label>–ù–æ–º–µ—Ä–∞ –ò–∑–¥–µ–ª–∏–π (–ó–∞–≤. –Ω–æ–º–µ—Ä–∞, —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é –∏–ª–∏ —Å –Ω–æ–≤–æ–π —Å—Ç—Ä–æ–∫–∏):</label>
                <textarea id="product_numbers_input" rows="4" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä–∞ –∏–∑–¥–µ–ª–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä: 12345, 12346, 12347)"></textarea>
            </div>

            <div class="form-group">
                <label>–ù–æ–º–µ—Ä –ß–µ—Ä—Ç–µ–∂–∞:</label>
                <input type="text" id="drawing_number" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä —á–µ—Ä—Ç–µ–∂–∞">
            </div>

            <div class="form-group">
                <label>–¢–∏–ø –ü–æ–ª—É—Ñ–∞–±—Ä–∏–∫–∞—Ç–∞ (–¥–æ–ø. –ø–æ–ª–µ):</label>
                <select id="semi_product">
                    <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ –ü–§ --</option>
                    <option value="–ö–∞—Ç—É—à–∫–∞">–ö–∞—Ç—É—à–∫–∞</option>
                    <option value="–ë–∞–∫">–ë–∞–∫</option>
                    <option value="–ê–∫—Ç–∏–≤–Ω–∞—è —á–∞—Å—Ç—å">–ê–∫—Ç–∏–≤–Ω–∞—è —á–∞—Å—Ç—å</option>
                    </select>
            </div>

            <div class="form-group">
                <label>–ü—Ä–∏—á–∏–Ω—ã –í—ã–∑–æ–≤–∞ –û–¢–ö / –î–µ—Ç–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ:</label>
                <textarea id="initial_description" rows="3" placeholder="–î–µ—Ç–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ä–∞–±–æ—Ç—ã, –∫–æ—Ç–æ—Ä—É—é –Ω—É–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å"></textarea>
            </div>
            
            <button type="submit" class="btn btn-success">–°–æ–∑–¥–∞—Ç—å –ó–∞—è–≤–∫—É(–∏) –∏ –û—Ç–ø—Ä–∞–≤–∏—Ç—å –≤ –ë24</button>
            <button type="button" class="btn btn-secondary" onclick="showPanel('main-panel')">‚Üê –ù–∞–∑–∞–¥</button>
        </form>
    </div>

    <script src="app.js"></script>
</body>
</html>